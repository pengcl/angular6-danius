<div class="content-scrollable">
  <div [formGroup]="prodForm" class="weui-cells weui-cells_form">
    <label for="avatar" class="weui-cell weui-cell_access">
      <div class="weui-cell__bd">
        <p>产品照片</p>
      </div>
      <div class="weui-cell__ft">
        <div *ngIf="prodForm.get('imagepath').value && uploader.queue.length === 0" [ngStyle]="{'background-image':'url(' + config.prefix.wApi + prodForm.get('imagepath').value + ')'}"
             class="avatar weui-uploader__file">
        </div>
        <div class="avatar weui-uploader__file" *ngFor="let item of uploader.queue.slice(uploader.queue.length - 1)"
             [weui-thumb]="item._file"
             [ngClass]="{'weui-uploader__file_status': item.isError}">
          <div class="weui-uploader__file-content" *ngIf="item.isUploading">{{item.progress}}%</div>
          <div class="weui-uploader__file-content" *ngIf="item.isError">
            <i class="weui-icon-warn"></i>
          </div>
        </div>
        <div [ngStyle]="{'display':!prodForm.get('imagepath').value && uploader.queue.length === 0 ? 'block' : 'none'}"
             class="avatar weui-uploader__input-box">
          <input id="avatar" class="weui-uploader__input" type="file" accept="image/*" [weui-uploader-file]="uploader">
        </div>
      </div>
    </label>
    <div class="weui-cell" [ngClass]="{'weui-cell_warn':prodForm.get('productname').invalid}">
      <div class="weui-cell__hd"><label class="weui-label">名称</label></div>
      <div class="weui-cell__bd">
        <input class="weui-input" formControlName="productname" placeholder="请输入产品名称">
      </div>
      <div class="weui-cell__ft">
        <i class="weui-icon-warn"></i>
      </div>
    </div>
    <div class="weui-cell" [ngClass]="{'weui-cell_warn':prodForm.get('introduction').invalid}">
      <div class="weui-cell__bd">
        <textarea class="weui-textarea" formControlName="introduction" placeholder="请输入产品简介" rows="3"></textarea>
        <div class="weui-textarea-counter"><span>{{prodForm.get('introduction').value.length}}</span>/200</div>
      </div>
    </div>
  </div>
</div>

<div class="btns-group">
  <a (click)="submit()" class="btn-twitter">编辑</a>
</div>
